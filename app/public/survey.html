<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <!-- <script
    src="https://code.jquery.com/jquery-3.4.1.js"
    integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU="
  crossorigin="anonymous"></script> -->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
  <link rel="stylesheet" type="text/css" href="assets/css/style.css">
  <title>Celebrity Friend Finder Survey</title>
</head>
<body>
  <div class="container-fluid pr-0 pl-0">
    <div class="card">
      <div class="card-header">
        <h1>Survey</h1>
      </div>
      <div class="card-body">
        <h2 class="card-text">Please answer all the questions. If you have an answer of 1, you strongly disagree with the question. If you have an answer of 5, you strong agree with the question.</h2>
        <br>
        <form style="width: 500px;">
            <div class="form-group">
              <label for="Name"><h3>Name</h3></label>
              <input type="name" class="form-control" id="name" aria-describedby="emailHelp" placeholder="Required">
            </div>
            <div class="form-group mb-5">
              <label for="photo"><h3>Photo</h3></label>
              <input type="name" class="form-control" id="photo" placeholder="Required">
            </div>
        <!-- </form> -->
        <label for="exampleFormControlSelect1"><h3>1: I like dogs better than cats?</h3></label>
          <select class="form-control mb-3" id="q1">
              <option selected>Choose...</option>
              <option value="1">1 (Strongly Disagree)</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
              <option value="5">5 (Strongly Agree)</option>
          </select>
          <label for="exampleFormControlSelect1"><h3>2: I like basketball more than baseball?</h3></label>
          <select class="form-control mb-3" id="q2">
              <option selected>Choose...</option>
              <option value="1">1 (Strongly Disagree)</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
              <option value="5">5 (Strongly Agree)</option>
          </select>
          <label for="exampleFormControlSelect1"><h3>3: I like ice cream more than cake?</h3></label>
          <select class="form-control mb-3" id="q3">
              <option selected>Choose...</option>
              <option value="1">1 (Strongly Disagree)</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
              <option value="5">5 (Strongly Agree)</option>
          </select>
          <label for="exampleFormControlSelect1"><h3>4: I like cars more than motorcycles?</h3></label>
          <select class="form-control mb-3" id="q4">
              <option selected>Choose...</option>
              <option value="1">1 (Strongly Disagree)</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
              <option value="5">5 (Strongly Agree)</option>
          </select>
          <label for="exampleFormControlSelect1"><h3>5: I like vegetables more than meat?</h3></label>
          <select class="form-control mb-3" id="q5">
              <option selected>Choose...</option>
              <option value="1">1 (Strongly Disagree)</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
              <option value="5">5 (Strongly Agree)</option>
          </select>
          <label for="exampleFormControlSelect1"><h3>6: I like whiskey more than beer?</h3></label>
          <select class="form-control mb-3" id="q6">
              <option selected>Choose...</option>
              <option value="1">1 (Strongly Disagree)</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
              <option value="5">5 (Strongly Agree)</option>
          </select>
          <label for="exampleFormControlSelect1"><h3>7: I am good at cooking?</h3></label>
          <select class="form-control mb-3" id="q7">
              <option selected>Choose...</option>
              <option value="1">1 (Strongly Disagree)</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
              <option value="5">5 (Strongly Agree)</option>
          </select>
          <label for="exampleFormControlSelect1"><h3>8: I exercise often?</h3></label>
          <select class="form-control mb-3" id="q8">
              <option selected>Choose...</option>
              <option value="1">1 (Strongly Disagree)</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
              <option value="5">5 (Strongly Agree)</option>
          </select>
          <label for="exampleFormControlSelect1"><h3>9: Would you consider yourself shy?</h3></label>
          <select class="form-control mb-3" id="q9">
              <option selected>Choose...</option>
              <option value="1">1 (Strongly Disagree)</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
              <option value="5">5 (Strongly Agree)</option>
          </select>
          <label for="exampleFormControlSelect1"><h3>10: Do you believe in love at first sight?</h3></label>
            <select class="form-control mb-3" id="q10">
                <option selected>Choose...</option>
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
            </select>
        <a href="#" class="btn btn-primary" id="submit">Submit</a>
      </form>
      </div>
    </div>

    <!-- Modal -->
  <div class="modal fade" id="match" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Celebrity Match</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <h3 id="best-match"></h3>
          <img id="best-photo" src="#">
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>

  </div>

  <div class="container-fluid">  
      <footer class="footer">
        <p><a href="/api/friends">API Friends Link</a> | <a href="https://github.com/Ryyder/friend-finder">Github Link</a>
      </footer>
    </div>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
</body>
</html>

<!-- Our javascript -->
<script type="text/javascript">

  $("#submit").on("click", function(event) {
    event.preventDefault();
    console.log(event);

    var validate = true;

    if($("#name").val() === "" || $("#photo").val() === "") {
      validate = false;
    }
    else if ($("#q1").val() === "" || $("#q2").val() === "" || $("#q3").val() === "" || $("#q4").val() === "" || $("#q5").val() === "" || $("#q6").val() === "" || $("#q7").val() === "" || $("#q8").val() === "" || $("#q9").val() === "" || $("#q10").val() === "") {
      validate = false;
    }

    if(validate === true) {
      var newUser = {
        name: $("#name").val().trim(),
        photo: $("#photo").val().trim(),
        scores: [
        $("#q1").val(),
        $("#q2").val(),
        $("#q3").val(),
        $("#q4").val(),
        $("#q5").val(),
        $("#q6").val(),
        $("#q7").val(),
        $("#q8").val(),
        $("#q9").val(),
        $("#q10").val()
        ]
      };

      $.post("/api/friends", newUser, function (data) {
        $("#best-match").text(data.name);
        $("#best-photo").attr("src", data.photo);
        $("#match").modal("toggle");
      });
    }
    else {
      alert("Please fill out all the fields of the survey");
    }
  });

</script>